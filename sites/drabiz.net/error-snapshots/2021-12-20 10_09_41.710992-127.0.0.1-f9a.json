{
 "etype": "OutgoingEmailError",
 "evalue": "OutgoingEmailError('\\n\\tUnable to send mail because of a missing email account.\\n\\tPlease setup default Email Account from Setup > Email > Email Account\\n')",
 "exception": {
  "args": [
   40,
   39,
   92,
   110,
   92,
   116,
   85,
   110,
   97,
   98,
   108,
   101,
   32,
   116,
   111,
   32,
   115,
   101,
   110,
   100,
   32,
   109,
   97,
   105,
   108,
   32,
   98,
   101,
   99,
   97,
   117,
   115,
   101,
   32,
   111,
   102,
   32,
   97,
   32,
   109,
   105,
   115,
   115,
   105,
   110,
   103,
   32,
   101,
   109,
   97,
   105,
   108,
   46,
   46,
   46,
   69,
   109,
   97,
   105,
   108,
   32,
   65,
   99,
   99,
   111,
   117,
   110,
   116,
   32,
   102,
   114,
   111,
   109,
   32,
   83,
   101,
   116,
   117,
   112,
   32,
   62,
   32,
   69,
   109,
   97,
   105,
   108,
   32,
   62,
   32,
   69,
   109,
   97,
   105,
   108,
   32,
   65,
   99,
   99,
   111,
   117,
   110,
   116,
   92,
   110,
   39,
   44,
   41
  ],
  "http_status_code": [
   53,
   48,
   49
  ],
  "with_traceback": [
   60,
   98,
   117,
   105,
   108,
   116,
   45,
   105,
   110,
   32,
   109,
   101,
   116,
   104,
   111,
   100,
   32,
   119,
   105,
   116,
   104,
   95,
   116,
   114,
   97,
   99,
   101,
   98,
   97,
   99,
   107,
   32,
   111,
   102,
   32,
   79,
   117,
   116,
   103,
   111,
   105,
   110,
   103,
   69,
   109,
   97,
   105,
   108,
   69,
   114,
   114,
   111,
   114,
   32,
   111,
   98,
   106,
   101,
   99,
   116,
   62
  ]
 },
 "frames": [
  {
   "call": "(request=<Request 'http://drabiz.net:8000/api/method/frappe.core.doctype.communication.email.make' [POST]>)",
   "dump": {
    "frappe. api": "<module 'frappe.api' from '/opt/bench/erpnext/apps/frappe/frappe/api.py'>",
    "frappe.api. handle": "<function handle>",
    "global frappe": "<module 'frappe' from '/opt/bench/erpnext/apps/frappe/frappe/__init__.py'>",
    "response": "None"
   },
   "file": "/opt/bench/erpnext/apps/frappe/frappe/app.py",
   "func": "application",
   "lines": {
    "64": "",
    "65": "\t\telif request.path.startswith(\"/api/\"):",
    "66": "\t\t\tresponse = frappe.api.handle()",
    "67": "",
    "68": "\t\telif request.path.startswith('/backups'):"
   },
   "lnum": 66
  },
  {
   "call": "()",
   "dump": {
    "frappe. handler": "<module 'frappe.handler' from '/opt/bench/erpnext/apps/frappe/frappe/handler.py'>",
    "frappe.handler. handle": "<function handle>",
    "global frappe": "<module 'frappe' from '/opt/bench/erpnext/apps/frappe/frappe/__init__.py'>"
   },
   "file": "/opt/bench/erpnext/apps/frappe/frappe/api.py",
   "func": "handle",
   "lines": {
    "52": "\tif call==\"method\":",
    "53": "\t\tfrappe.local.form_dict.cmd = doctype",
    "54": "\t\treturn frappe.handler.handle()",
    "55": "",
    "56": "\telif call==\"resource\":"
   },
   "lnum": 54
  },
  {
   "call": "()",
   "dump": {
    "cmd": "'frappe.core.doctype.communication.email.make'",
    "data": "None",
    "global execute_cmd": "<function execute_cmd>"
   },
   "file": "/opt/bench/erpnext/apps/frappe/frappe/handler.py",
   "func": "handle",
   "lines": {
    "29": "",
    "30": "\tif cmd != 'login':",
    "31": "\t\tdata = execute_cmd(cmd)",
    "32": "",
    "33": "\t# data can be an empty string or list which are valid responses"
   },
   "lnum": 31
  },
  {
   "call": "(cmd='frappe.core.doctype.communication.email.make', from_async=False)",
   "dump": {
    "frappe. call": "<function call>",
    "frappe. form_dict": "{'recipients': 'trucpt@draco.biz, ', 'subject': ...: 'frappe.core.doctype.communication.email.make'}",
    "global frappe": "<module 'frappe' from '/opt/bench/erpnext/apps/frappe/frappe/__init__.py'>",
    "method": "<function make>"
   },
   "file": "/opt/bench/erpnext/apps/frappe/frappe/handler.py",
   "func": "execute_cmd",
   "lines": {
    "65": "\t\tis_valid_http_method(method)",
    "66": "",
    "67": "\treturn frappe.call(method, **frappe.form_dict)",
    "68": "",
    "69": "def is_valid_http_method(method):"
   },
   "lnum": 67
  },
  {
   "call": "(fn=<function make>, *args=(), **kwargs={'_lang': 'en', 'attachments': '[]', 'cmd': 'frappe.core.doctype.communication.email.make', 'content': '<div class=\"ql-editor read-mode\"><p>fsfsfsgs</p></div>', 'doctype': 'Purchase Order', 'name': 'PUR-ORD-2021-00009', 'print_format': '', 'print_html': '', 'print_letterhead': '1', 'read_receipt': '0', ...})",
   "dump": {
    "args": "()",
    "fn": "<function make>",
    "newargs": "{'attachments': '[]', 'content': '<div class=\"ql-editor read-mode\"><p>fsfsfsgs</p></div>', 'doctype': 'Purchase Order', 'name': 'PUR-ORD-2021-00009', 'print_format': '', 'print_html': '', 'print_letterhead': '1', 'read_receipt': '0', 'recipients': 'trucpt@draco.biz, ', 'send_email': '1', ...}"
   },
   "file": "/opt/bench/erpnext/apps/frappe/frappe/__init__.py",
   "func": "call",
   "lines": {
    "1218": "\tnewargs = get_newargs(fn, kwargs)",
    "1219": "",
    "1220": "\treturn fn(*args, **newargs)",
    "1221": "",
    "1222": "def get_newargs(fn, kwargs):"
   },
   "lnum": 1220
  },
  {
   "call": "(doctype='Purchase Order', name='PUR-ORD-2021-00009', content='<div class=\"ql-editor read-mode\"><p>fsfsfsgs</p></div>', subject='NCC0013 (#PUR-ORD-2021-00009)', sent_or_received='Sent', sender='T\u00edn L\u00ea <tinlt@draco.biz>', sender_full_name=None, recipients='trucpt@draco.biz, ', communication_medium='Email', send_email='1', print_html='', print_format='', attachments=[], send_me_a_copy=0, cc=None, bcc=None, flags=None, read_receipt='0', print_letterhead='1', email_template=None, communication_type=None, ignore_permissions=False)",
   "dump": {
    "exc": "undefined",
    "frappe. OutgoingEmailError": "<class 'frappe.exceptions.OutgoingEmailError'>",
    "frappe. throw": "<function throw>",
    "global OUTGOING_EMAIL_ACCOUNT_MISSING": "'\\n\\tUnable to send mail because of a missing email...Email Account from Setup > Email > Email Account\\n'",
    "global frappe": "<module 'frappe' from '/opt/bench/erpnext/apps/frappe/frappe/__init__.py'>",
    "msg": "undefined"
   },
   "file": "/opt/bench/erpnext/apps/frappe/frappe/core/doctype/communication/email.py",
   "func": "make",
   "lines": {
    "88": "\tif cint(send_email):",
    "89": "\t\tif not comm.get_outgoing_email_account():",
    "90": "\t\t\tfrappe.throw(msg=OUTGOING_EMAIL_ACCOUNT_MISSING, exc=frappe.OutgoingEmailError)",
    "91": "",
    "92": "\t\tcomm.send_email(print_html=print_html, print_format=print_format,"
   },
   "lnum": 90
  },
  {
   "call": "(msg='\\n\\tUnable to send mail because of a missing email...Email Account from Setup > Email > Email Account\\n', exc=<class 'frappe.exceptions.OutgoingEmailError'>, title=None, is_minimizable=None, wide=None, as_list=False)",
   "dump": {
    "as_list": "False",
    "exc": "<class 'frappe.exceptions.OutgoingEmailError'>",
    "global msgprint": "<function msgprint>",
    "indicator": "undefined",
    "is_minimizable": "None",
    "msg": "'\\n\\tUnable to send mail because of a missing email...Email Account from Setup > Email > Email Account\\n'",
    "raise_exception": "undefined",
    "title": "None",
    "wide": "None"
   },
   "file": "/opt/bench/erpnext/apps/frappe/frappe/__init__.py",
   "func": "throw",
   "lines": {
    "441": "\t:param msg: Message.",
    "442": "\t:param exc: Exception class. Default `frappe.ValidationError`\"\"\"",
    "443": "\tmsgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)",
    "444": "",
    "445": "def emit_js(js, user=False, **kwargs):"
   },
   "lnum": 443
  },
  {
   "call": "(msg='\\n\\tUnable to send mail because of a missing email...Email Account from Setup > Email > Email Account\\n', title=None, raise_exception=<class 'frappe.exceptions.OutgoingEmailError'>, as_table=False, as_list=False, indicator='red', alert=False, primary_action=None, is_minimizable=None, wide=None)",
   "dump": {
    "_raise_exception": "<function msgprint.<locals>._raise_exception>"
   },
   "file": "/opt/bench/erpnext/apps/frappe/frappe/__init__.py",
   "func": "msgprint",
   "lines": {
    "420": "\t\tlocal.response['exc_type'] = raise_exception.__name__",
    "421": "",
    "422": "\t_raise_exception()",
    "423": "",
    "424": "def clear_messages():"
   },
   "lnum": 422
  },
  {
   "call": "()",
   "dump": {
    "msg": "'\\n\\tUnable to send mail because of a missing email...Email Account from Setup > Email > Email Account\\n'",
    "raise_exception": "<class 'frappe.exceptions.OutgoingEmailError'>"
   },
   "file": "/opt/bench/erpnext/apps/frappe/frappe/__init__.py",
   "func": "_raise_exception",
   "lines": {
    "374": "",
    "375": "\t\t\tif inspect.isclass(raise_exception) and issubclass(raise_exception, Exception):",
    "376": "\t\t\t\traise raise_exception(msg)",
    "377": "\t\t\telse:",
    "378": "\t\t\t\traise ValidationError(msg)"
   },
   "lnum": 376
  }
 ],
 "locals": {
  "inspect": "<module 'inspect' from '/usr/lib/python3.8/inspect.py'>",
  "msg": "\n\tUnable to send mail because of a missing email account.\n\tPlease setup default Email Account from Setup > Email > Email Account\n",
  "raise_exception": "<class 'frappe.exceptions.OutgoingEmailError'>"
 },
 "pyver": "Python 3.8.10: /opt/bench/erpnext/env/bin/python (prefix: /opt/bench/erpnext/env)",
 "timestamp": "2021-12-20 10:09:41.711282",
 "traceback": "Traceback (most recent call last):\n  File \"/opt/bench/erpnext/apps/frappe/frappe/app.py\", line 66, in application\n    response = frappe.api.handle()\n  File \"/opt/bench/erpnext/apps/frappe/frappe/api.py\", line 54, in handle\n    return frappe.handler.handle()\n  File \"/opt/bench/erpnext/apps/frappe/frappe/handler.py\", line 31, in handle\n    data = execute_cmd(cmd)\n  File \"/opt/bench/erpnext/apps/frappe/frappe/handler.py\", line 67, in execute_cmd\n    return frappe.call(method, **frappe.form_dict)\n  File \"/opt/bench/erpnext/apps/frappe/frappe/__init__.py\", line 1220, in call\n    return fn(*args, **newargs)\n  File \"/opt/bench/erpnext/apps/frappe/frappe/core/doctype/communication/email.py\", line 90, in make\n    frappe.throw(msg=OUTGOING_EMAIL_ACCOUNT_MISSING, exc=frappe.OutgoingEmailError)\n  File \"/opt/bench/erpnext/apps/frappe/frappe/__init__.py\", line 443, in throw\n    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)\n  File \"/opt/bench/erpnext/apps/frappe/frappe/__init__.py\", line 422, in msgprint\n    _raise_exception()\n  File \"/opt/bench/erpnext/apps/frappe/frappe/__init__.py\", line 376, in _raise_exception\n    raise raise_exception(msg)\nfrappe.exceptions.OutgoingEmailError: \n\tUnable to send mail because of a missing email account.\n\tPlease setup default Email Account from Setup > Email > Email Account\n\n"
}